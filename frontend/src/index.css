@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  * {
    -webkit-tap-highlight-color: transparent;
  }

  html {
    @apply antialiased;
  }

  /* Light mode - Soft pastel gradient */
  body {
    @apply text-gray-800 min-h-screen;
    font-family: 'Inter', system-ui, sans-serif;
    background: linear-gradient(160deg, #a8edea 0%, #fed6e3 50%, #d299c2 100%);
    background-attachment: fixed;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Dark mode - Orange gradient like tab color */
  .dark body {
    @apply text-white;
    background: linear-gradient(145deg, #1a0800 0%, #2a1000 30%, #1f0a00 60%, #150600 100%) !important;
    background-attachment: fixed;
  }

  /* Hide scrollbar but keep functionality */
  ::-webkit-scrollbar {
    width: 0px;
    background: transparent;
  }

  /* Hide number input spinners/arrows */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type="number"] {
    -moz-appearance: textfield;
  }
}

/* Custom components */
@layer components {
  /* Primary button - NEW gradient */
  .btn-primary {
    @apply px-6 py-3 rounded-xl font-semibold text-white
           transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95;
    background: linear-gradient(135deg, #f97316 0%, #ec4899 100%);
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
  }
  .btn-primary:hover {
    box-shadow: 0 6px 25px rgba(236, 72, 153, 0.4);
  }

  /* Light mode: secondary button */
  .btn-secondary {
    @apply bg-gray-200 border border-gray-300 px-6 py-3 rounded-xl font-semibold text-gray-800
           transition-all duration-300 hover:bg-gray-300 active:scale-95;
  }
  .dark .btn-secondary {
    @apply text-white;
    background: rgba(31, 31, 35, 0.8);
    border: 1px solid rgba(63, 63, 70, 0.5);
  }
  .dark .btn-secondary:hover {
    background: rgba(42, 42, 48, 0.9);
  }

  .btn-ghost {
    @apply bg-transparent px-4 py-2 rounded-lg font-medium text-gray-500
           transition-all duration-300 hover:text-gray-800 hover:bg-gray-200;
  }
  .dark .btn-ghost {
    @apply text-gray-400 hover:text-white;
    background: transparent;
  }
  .dark .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  /* Light mode: card - Clean white */
  .card {
    @apply rounded-2xl p-4 shadow-sm;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 200, 200, 0.3);
  }
  /* Dark mode: card - NEW gradient border effect */
  .dark .card {
    @apply shadow-none;
    background: linear-gradient(145deg, rgba(21, 21, 24, 0.95) 0%, rgba(15, 15, 18, 0.98) 100%);
    border: 1px solid rgba(249, 115, 22, 0.15);
    backdrop-filter: blur(10px);
  }

  /* Card with glow effect */
  .card-glow {
    @apply rounded-2xl p-4 shadow-lg hover:shadow-xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 200, 200, 0.3);
  }
  .dark .card-glow {
    background: linear-gradient(145deg, rgba(21, 21, 24, 0.95) 0%, rgba(15, 15, 18, 0.98) 100%);
    border: 1px solid rgba(139, 92, 246, 0.2);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.1);
  }
  .dark .card-glow:hover {
    border-color: rgba(236, 72, 153, 0.3);
    box-shadow: 0 0 30px rgba(236, 72, 153, 0.15);
  }

  /* Light mode: input - Glassmorphism */
  .input {
    @apply w-full rounded-xl px-4 py-3 text-gray-800
           placeholder-gray-400 focus:outline-none transition-all duration-200;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(168, 237, 234, 0.3);
  }
  .input:focus {
    border-color: #f97316;
    box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.2);
  }
  .dark .input {
    @apply text-white placeholder-gray-500;
    background: rgba(31, 31, 35, 0.8);
    border: 1px solid rgba(63, 63, 70, 0.5);
  }
  .dark .input:focus {
    border-color: #ec4899;
    box-shadow: 0 0 0 2px rgba(236, 72, 153, 0.2);
  }

  .label {
    @apply block text-sm font-medium text-gray-600 mb-2;
  }
  .dark .label {
    @apply text-gray-400;
  }

  /* Gradient text - NEW colors */
  .gradient-text {
    background: linear-gradient(135deg, #f97316 0%, #ec4899 50%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gradient border - NEW colors */
  .gradient-border {
    @apply relative;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, #f97316, #ec4899, #8b5cf6) border-box;
    border: 2px solid transparent;
  }
  .dark .gradient-border {
    background: linear-gradient(#151518, #151518) padding-box,
                linear-gradient(135deg, #f97316, #ec4899, #8b5cf6) border-box;
  }

  /* Bottom navigation */
  .nav-item {
    @apply flex flex-col items-center justify-center gap-1 text-gray-400 transition-all duration-200;
  }
  .nav-item.active {
    color: #f97316;
  }
  .nav-item:hover {
    @apply text-gray-600;
  }
  .dark .nav-item {
    @apply text-gray-500;
  }
  .dark .nav-item.active {
    color: #ec4899;
    text-shadow: 0 0 10px rgba(236, 72, 153, 0.5);
  }
  .dark .nav-item:hover {
    @apply text-gray-300;
  }

  /* Stat cards - NEW colorful */
  .stat-card {
    @apply rounded-2xl p-4;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 200, 200, 0.3);
  }
  .dark .stat-card {
    background: linear-gradient(145deg, rgba(31, 31, 35, 0.9) 0%, rgba(21, 21, 24, 0.95) 100%);
    border: 1px solid rgba(63, 63, 70, 0.3);
  }

  /* Progress ring */
  .progress-ring {
    transform: rotate(-90deg);
  }

  .progress-ring-circle {
    transition: stroke-dashoffset 0.5s ease-in-out;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse rounded;
    background: rgba(255, 255, 255, 0.5);
  }
  .dark .skeleton {
    background: linear-gradient(90deg, rgba(31, 31, 35, 0.5) 0%, rgba(42, 42, 48, 0.5) 50%, rgba(31, 31, 35, 0.5) 100%);
  }

  /* Exercise card - NEW style */
  .exercise-card {
    @apply rounded-xl p-3 flex items-center gap-3
           transition-all duration-200 active:scale-95;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(200, 200, 200, 0.3);
  }
  .exercise-card:hover {
    background: rgba(255, 255, 255, 1);
  }
  .dark .exercise-card {
    background: linear-gradient(135deg, rgba(31, 31, 35, 0.7) 0%, rgba(21, 21, 24, 0.8) 100%);
    border: 1px solid rgba(63, 63, 70, 0.3);
  }
  .dark .exercise-card:hover {
    border-color: rgba(139, 92, 246, 0.4);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.1);
  }

  /* Meal card - NEW style */
  .meal-card {
    @apply rounded-xl p-4 transition-all duration-200;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 200, 200, 0.3);
  }
  .meal-card:hover {
    border-color: rgba(249, 115, 22, 0.3);
  }
  .dark .meal-card {
    background: linear-gradient(135deg, rgba(31, 31, 35, 0.8) 0%, rgba(21, 21, 24, 0.9) 100%);
    border: 1px solid rgba(63, 63, 70, 0.3);
  }
  .dark .meal-card:hover {
    border-color: rgba(236, 72, 153, 0.4);
    box-shadow: 0 0 20px rgba(236, 72, 153, 0.1);
  }

  /* Chat bubble */
  .chat-bubble-user {
    background: linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(236, 72, 153, 0.2) 100%);
    border: 1px solid rgba(249, 115, 22, 0.3);
    @apply rounded-2xl rounded-br-sm p-3 max-w-[85%] ml-auto;
  }

  .chat-bubble-ai {
    @apply bg-gray-100 border border-gray-200 rounded-2xl rounded-bl-sm p-3 max-w-[85%];
  }
  .dark .chat-bubble-ai {
    background: rgba(31, 31, 35, 0.8);
    border: 1px solid rgba(63, 63, 70, 0.5);
  }

  /* NEW: Accent colored backgrounds */
  .bg-accent-orange {
    background: linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(249, 115, 22, 0.1) 100%);
  }
  .bg-accent-pink {
    background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.1) 100%);
  }
  .bg-accent-purple {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0.1) 100%);
  }
  .bg-accent-green {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%);
  }
}

/* Custom utilities */
@layer utilities {
  .safe-bottom {
    padding-bottom: calc(80px + env(safe-area-inset-bottom));
  }

  .text-glow {
    text-shadow: 0 0 20px currentColor;
  }

  .text-glow-orange {
    text-shadow: 0 0 20px rgba(249, 115, 22, 0.6);
  }

  .text-glow-pink {
    text-shadow: 0 0 20px rgba(236, 72, 153, 0.6);
  }

  .text-glow-purple {
    text-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
  }

  /* Gradient backgrounds - Light */
  .bg-gradient-dark {
    background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
  }
  .dark .bg-gradient-dark {
    background: linear-gradient(180deg, #151518 0%, #0c0c10 100%);
  }

  .bg-gradient-radial {
    background: radial-gradient(ellipse at top, #e2e8f0 0%, #f1f5f9 50%, #f8fafc 100%);
  }
  .dark .bg-gradient-radial {
    background: radial-gradient(ellipse at top, rgba(139, 92, 246, 0.1) 0%, #151518 50%, #0c0c10 100%);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
}
