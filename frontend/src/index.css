@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  * {
    -webkit-tap-highlight-color: transparent;
  }

  html {
    @apply antialiased;
  }

  /* Light mode (default now) */
  body {
    @apply bg-gray-50 text-gray-900 min-h-screen;
    font-family: 'Inter', system-ui, sans-serif;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Dark mode */
  .dark body {
    @apply bg-dark-900 text-white;
  }

  /* Hide scrollbar but keep functionality */
  ::-webkit-scrollbar {
    width: 0px;
    background: transparent;
  }

  /* Hide number input spinners/arrows */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type="number"] {
    -moz-appearance: textfield;
  }
}

/* Custom components */
@layer components {
  .btn-primary {
    @apply bg-gradient-to-r from-accent-primary to-neon-blue px-6 py-3 rounded-xl font-semibold text-dark-900
           shadow-neon-cyan transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95;
  }

  /* Light mode: secondary button */
  .btn-secondary {
    @apply bg-gray-200 border border-gray-300 px-6 py-3 rounded-xl font-semibold text-gray-800
           transition-all duration-300 hover:bg-gray-300 active:scale-95;
  }
  .dark .btn-secondary {
    @apply bg-dark-700 border-dark-600 text-white hover:bg-dark-600;
  }

  .btn-ghost {
    @apply bg-transparent px-4 py-2 rounded-lg font-medium text-gray-500
           transition-all duration-300 hover:text-gray-800 hover:bg-gray-200;
  }
  .dark .btn-ghost {
    @apply text-gray-400 hover:text-white hover:bg-dark-700;
  }

  /* Light mode: card */
  .card {
    @apply bg-white rounded-2xl p-4 border border-gray-200 shadow-sm;
  }
  .dark .card {
    @apply bg-dark-800 border-dark-700 shadow-none;
  }

  .card-glow {
    @apply bg-white rounded-2xl p-4 border border-gray-200
           shadow-lg hover:shadow-xl transition-all duration-300;
  }
  .dark .card-glow {
    @apply bg-dark-800 border-dark-700 hover:shadow-neon-cyan/10;
  }

  /* Light mode: input */
  .input {
    @apply w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-900
           placeholder-gray-400 focus:outline-none focus:border-accent-primary focus:ring-1
           focus:ring-accent-primary transition-all duration-200;
  }
  .dark .input {
    @apply bg-dark-700 border-dark-600 text-white placeholder-gray-500;
  }

  .label {
    @apply block text-sm font-medium text-gray-600 mb-2;
  }
  .dark .label {
    @apply text-gray-400;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-accent-primary via-neon-purple to-neon-pink bg-clip-text text-transparent;
  }

  .gradient-border {
    @apply relative;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, #22d3ee, #a855f7) border-box;
    border: 2px solid transparent;
  }
  .dark .gradient-border {
    background: linear-gradient(#0f172a, #0f172a) padding-box,
                linear-gradient(135deg, #22d3ee, #a855f7) border-box;
  }

  /* Bottom navigation */
  .nav-item {
    @apply flex flex-col items-center justify-center gap-1 text-gray-400 transition-all duration-200;
  }
  .nav-item.active {
    @apply text-accent-primary;
  }
  .nav-item:hover {
    @apply text-gray-600;
  }
  .dark .nav-item {
    @apply text-gray-500;
  }
  .dark .nav-item:hover {
    @apply text-gray-300;
  }

  /* Stat cards */
  .stat-card {
    @apply bg-gradient-to-br from-gray-100 to-white rounded-2xl p-4 border border-gray-200;
  }
  .dark .stat-card {
    @apply from-dark-700 to-dark-800 border-dark-600;
  }

  /* Progress ring */
  .progress-ring {
    transform: rotate(-90deg);
  }

  .progress-ring-circle {
    transition: stroke-dashoffset 0.5s ease-in-out;
  }

  /* Skeleton loading */
  .skeleton {
    @apply bg-gray-200 animate-pulse rounded;
  }
  .dark .skeleton {
    @apply bg-dark-700;
  }

  /* Exercise card */
  .exercise-card {
    @apply bg-gray-100 rounded-xl p-3 flex items-center gap-3 border border-gray-200
           transition-all duration-200 hover:bg-gray-200 active:scale-95;
  }
  .dark .exercise-card {
    @apply bg-dark-700/50 border-dark-600 hover:bg-dark-700;
  }

  /* Meal card */
  .meal-card {
    @apply bg-gradient-to-r from-gray-100 to-white rounded-xl p-4 border border-gray-200
           backdrop-blur transition-all duration-200 hover:border-accent-primary/30;
  }
  .dark .meal-card {
    @apply from-dark-700/80 to-dark-800/80 border-dark-600;
  }

  /* Chat bubble */
  .chat-bubble-user {
    @apply bg-accent-primary/20 border border-accent-primary/30 rounded-2xl rounded-br-sm p-3 max-w-[85%] ml-auto;
  }

  .chat-bubble-ai {
    @apply bg-gray-100 border border-gray-200 rounded-2xl rounded-bl-sm p-3 max-w-[85%];
  }
  .dark .chat-bubble-ai {
    @apply bg-dark-700 border-dark-600;
  }
}

/* Custom utilities */
@layer utilities {
  .safe-bottom {
    padding-bottom: calc(80px + env(safe-area-inset-bottom));
  }

  .text-glow {
    text-shadow: 0 0 20px currentColor;
  }

  /* Gradient backgrounds - Light */
  .bg-gradient-dark {
    background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
  }
  .dark .bg-gradient-dark {
    background: linear-gradient(180deg, #0f172a 0%, #0a0a0f 100%);
  }

  .bg-gradient-radial {
    background: radial-gradient(ellipse at top, #e2e8f0 0%, #f1f5f9 50%, #f8fafc 100%);
  }
  .dark .bg-gradient-radial {
    background: radial-gradient(ellipse at top, #1e293b 0%, #0f172a 50%, #0a0a0f 100%);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
}
